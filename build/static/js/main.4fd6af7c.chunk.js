(this["webpackJsonposrs-music"]=this["webpackJsonposrs-music"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),o=a(8),i=a.n(o),c=a(2),u=a(9),l=a(3),r=a(4),d=a(6),p=a(5),h=a(0),j=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{className:"player",children:[Object(h.jsxs)("div",{className:"modeSelect",children:[Object(h.jsx)("button",{onClick:function(){e.props.modeSelect("auto")},className:"auto"===this.props.mode?"active":"",children:Object(h.jsx)("p",{children:"Auto"})}),Object(h.jsx)("button",{onClick:function(){e.props.modeSelect("manual")},className:"manual"===this.props.mode?"active":"",children:Object(h.jsx)("p",{children:"Man"})}),Object(h.jsx)("button",{onClick:function(){e.props.modeSelect("loop")},className:"loop"===this.props.mode?"active":"",children:Object(h.jsx)("p",{children:"Loop"})})]}),Object(h.jsxs)("div",{className:"playing",children:["Playing:",Object(h.jsx)("br",{}),Object(h.jsxs)("span",{children:[!this.props.playing&&"Choose a song!",this.props.playing&&this.props.playing.slice(0,this.props.playing.length-4)]})]}),Object(h.jsx)("div",{className:"songs",children:Object(h.jsxs)("ul",{children:[this.props.songs&&this.props.songs.map((function(t){return e.props.makeSongs(t)})),!this.props.songs&&"Please wait, loading!"]})})]})}}]),a}(s.Component),m=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={},e.makeUpNext=function(t){for(var a=[],s=function(s){var n=Object(h.jsx)("li",{onClick:function(){e.props.removeFromQueue(s)},children:t[s].slice(0,t[s].length-4)},s);a.push(n)},n=0;n<t.length;n++)s(n);return a},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"upNext",children:[Object(h.jsx)("h1",{children:"Up Next:"}),Object(h.jsxs)("ul",{children:["auto"===this.props.mode&&this.makeUpNext(this.props.standardQueue),"manual"===this.props.mode&&this.makeUpNext(this.props.manualQueue)]})]})}}]),a}(s.Component),b=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"controls",children:[Object(h.jsx)("button",{className:"playPause",onClick:this.props.playPause,children:Object(h.jsx)("p",{className:"material-icons",children:this.props.isPaused?"play_arrow":"pause"})}),Object(h.jsx)("button",{className:"playPause",onClick:this.props.skip,children:Object(h.jsx)("p",{className:"material-icons",children:"skip_next"})})]})}}]),a}(s.Component),O=(a(15),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isPaused:!0,mode:"auto",manualQueue:[],standardQueue:["Harmony.ogg","Adventure.ogg","Autumn Voyage.ogg","Camelot.ogg"]},e.getFileList=function(){fetch("http://localhost:3000/files").then((function(e){return e.json()})).then((function(t){e.setState({songlist:t},(function(){console.log(e.state.songlist)}))}))},e.componentDidMount=function(){e.getFileList(),e.audio=new Audio,e.audio.onended=e.ended},e.makeSongs=function(t){var a=t.slice(0,t.length-4);return Object(h.jsx)("li",{onClick:function(a){e.handleClick(a,t)},children:Object(h.jsx)("p",{children:a})},a)},e.handleClick=function(t,a){var s;if(t&&("loop"!==e.state.mode&&t.ctrlKey))return s="manual"===e.state.mode?"manualQueue":"standardQueue",void e.setState(Object(c.a)({},s,[].concat(Object(u.a)(e.state[s]),[a])));e.state.playing&&e.setState({isPaused:!0},(function(){e.audio.pause()}));var n="https://archive.org/download/OldRunescapeSoundtrack/"+encodeURI(a);e.audio.src=n,e.setState({playing:a,isPaused:!1},(function(){e.audio.play()}))},e.skip=function(){var t,a;a="manual"===e.state.mode?"manualQueue":"standardQueue";var s=e.state[a].slice();if(0===s.length)return e.audio.src="",void e.setState({isPaused:!0});var n=s.splice(0,1)[0];e.setState((t={},Object(c.a)(t,a,s),Object(c.a)(t,"isPaused",!1),t),(function(){e.handleClick(null,n)}))},e.playPause=function(){if(e.audio.paused){if(""===e.audio.src){if("loop"===e.state.mode)return;var t,a;a="manual"===e.state.mode?"manualQueue":"standardQueue";var s=e.state[a].slice();if(0===s.length)return;var n=s.splice(0,1)[0];e.setState((t={},Object(c.a)(t,a,s),Object(c.a)(t,"isPaused",!1),t),(function(){e.handleClick(null,n)}))}e.setState({isPaused:!1},(function(){e.audio.play()}))}else e.setState({isPaused:!0},(function(){e.audio.pause()}))},e.modeSelect=function(t){e.audio.loop="loop"===t,e.setState({mode:t},(function(){console.log("The mode is currently set to: "+t)}))},e.ended=function(){var t;if("loop"!==e.state.mode){var a,s=e.state.mode;"manual"===s?a="manualQueue":"auto"===s&&(a="standardQueue");var n=e.state[a].slice(),o=n.splice(0,1)[0];e.setState((t={},Object(c.a)(t,a,n),Object(c.a)(t,"isPaused",!1),t),(function(){e.handleClick(null,o)}))}},e.removeFromQueue=function(t){var a,s=e.state.mode;"manual"===s?a="manualQueue":"auto"===s&&(a="standardQueue");var n=e.state[a].slice();n.splice(t,1),e.setState(Object(c.a)({},a,n))},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"wrap",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(j,{mode:this.state.mode,modeSelect:this.modeSelect,playing:this.state.playing,songs:this.state.songlist,makeSongs:this.makeSongs,handleClick:this.handleClick,getSong:this.getSong}),Object(h.jsx)(b,{isPaused:this.state.isPaused,playPause:this.playPause,skip:this.skip}),Object(h.jsx)(m,{mode:this.state.mode,standardQueue:this.state.standardQueue,manualQueue:this.state.manualQueue,removeFromQueue:this.removeFromQueue})]}),Object(h.jsx)("p",{className:"instructions",children:"Press ctrl+click to add a song to the queue!"}),Object(h.jsx)("p",{className:"instructions",children:"Click a song in the queue to remove it!"})]})}}]),a}(s.Component));i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(O,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.4fd6af7c.chunk.js.map