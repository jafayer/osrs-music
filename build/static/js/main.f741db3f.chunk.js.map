{"version":3,"sources":["components/song.jsx","components/contextmenu.jsx","components/player.jsx","components/upnext.jsx","components/controls.jsx","resources/audiowrapper.js","App.js","index.js"],"names":["Song","state","to","this","props","song","title","replaceAll","onContextMenu","e","contextMenu","onClick","handleClick","id","Component","ContextMenu","componentDidMount","document","addEventListener","close","play","preventDefault","addToQueue","componentWillUnmount","removeEventListener","console","log","className","style","y","x","Player","makeSongs","closeMenu","setState","contextMenuSong","pageX","pageY","addPopup","click","modeSelect","mode","playing","songs","map","i","UpNext","makeUpNext","queue","arr","elem","ctrlKey","metaKey","removeFromQueue","push","length","copy","standardQueue","manualQueue","Controls","playPause","isPaused","skip","AudioWrapper","getSrc","audio","src","setSong","url","getSong","pause","Audio","App","getActiveQueue","manual","auto","onended","ended","songlist","data","history","listen","route","decoded","pathname","split","find","toLowerCase","loadedFromUrlChange","code","querySelector","focus","match","params","queryString","URLSearchParams","location","search","get","inserts","forEach","insert","apply","navigator","mediaSession","setActionHandler","activeQueue","Array","prototype","concat","event","slice","splice","loop","mediaSessionUpdate","metadata","window","MediaMetadata","album","copyToClipboard","path","replace","resQueue","join","clipboard","writeText","then","artist","artwork","sizes","type","onPlay","onPause","onNextTrack","ReactDOM","render","StrictMode","children","getElementById"],"mappings":"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","file":"static/js/main.f741db3f.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\n\nimport {\n    Link\n  } from \"react-router-dom\";\n\n\nclass Song extends Component {\n    state = { }\n\n    render() {\n        return (\n            <Link to={this.props.song.title.replaceAll(\" \",\"_\")} onContextMenu={(e) => {this.props.contextMenu(e, this.props.song)}}>\n                <li key={this.props.song.id} onClick={(e) => {this.props.handleClick(e, this.props.song)}}>\n                <p>{this.props.song.title}</p>\n                </li>\n            </Link>\n        );\n    }\n    \n}\n \nexport default Song;","import React, { Component } from 'react';\r\n\r\nclass ContextMenu extends Component {\r\n    state = { }\r\n    render() {\r\n        console.log(this.props);\r\n        return ( \r\n            <div className=\"contextMenu\" style={{\"top\": this.props.y, \"left\": this.props.x}}>\r\n                <div className=\"header\">\r\n                    <p>Choose Option</p>\r\n                </div>\r\n                <ul>\r\n                    <li onClick={(e) => {this.play(e,this.props.song)}}\r\n                        onContextMenu={(e) => {e.preventDefault()}}\r\n                    >Play <span>Song</span></li>\r\n                    <li onClick={(e) => {this.addToQueue(e,this.props.song)}}\r\n                        onContextMenu={(e) => {e.preventDefault()}}\r\n                    >Add to queue <span>Song</span></li>\r\n                </ul>\r\n            </div>\r\n         );\r\n    }\r\n    \r\n\r\n    componentDidMount = () => {\r\n        document.addEventListener('click', this.props.close);\r\n    }\r\n\r\n    play = (e,song) => {\r\n        e.preventDefault();\r\n        this.props.handleClick(null,song);\r\n    }\r\n\r\n    addToQueue = (e, song) => {\r\n        e.preventDefault();\r\n        this.props.addToQueue(song);\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        document.removeEventListener('click',this.props.close);\r\n    }\r\n}\r\n \r\nexport default ContextMenu;","import React, { Component } from 'react';\nimport Song from './song';\nimport ContextMenu from './contextmenu';\n\nclass Player extends Component {\n    state = { \n        contextMenu: false\n    }\n\n    render() {\n        return ( \n\n            <>\n                {this.addPopup()}\n\n                <div className=\"player\">\n                    <div className=\"modeSelect\">\n                        <button \n                            onClick={() => {this.props.modeSelect(\"auto\")}}\n                            className={this.props.mode === \"auto\" ? \"active\" : \"\"}><p>Auto</p></button>\n                        <button \n                            onClick={() => {this.props.modeSelect(\"manual\")}}\n                            className={this.props.mode === \"manual\" ? \"active\": \"\"}><p>Man</p></button>\n                        <button \n                            onClick={() => {this.props.modeSelect(\"loop\")}}\n                            className={this.props.mode === \"loop\" ? \"active\" : \"\"}><p>Loop</p></button>\n                    </div>\n                    <div className=\"playing\">Playing:<br /><span>\n                        {!this.props.playing && \"Choose a song!\"}\n                        {this.props.playing && this.props.playing.title}\n                    </span></div>\n                    <div className=\"songs\">\n                        <ul>\n                            {this.props.songs && this.props.songs.map(i => this.makeSongs(i))}\n                            {!this.props.songs && \"Please wait, loading!\"}\n                        </ul>\n                    </div>\n                </div>\n            </>\n         );\n    }\n\n    makeSongs = (song) => {\n        let elem = (\n          <Song \n            song={song}\n            handleClick={this.props.handleClick}\n            addToQueue={this.props.addToQueue}\n            contextMenu={this.contextMenu}\n          />\n        );\n    \n        return(elem);\n      }\n\n\n      // contextMenu setup\n      contextMenu = (e,song) => {\n        e.preventDefault();\n        this.closeMenu();\n        this.setState({\n            contextMenu: true,\n            contextMenuSong: song,\n            x: e.pageX,\n            y: e.pageY\n        }, () => {\n            this.addPopup();\n        });  \n    }\n\n    addPopup = () => {\n        if(this.state.contextMenu) {\n            let menu = (<ContextMenu\n                x={this.state.x}\n                y={this.state.y}\n                click={this.closeMenu}\n                song={this.state.contextMenuSong}\n                handleClick={this.props.handleClick}\n                addToQueue={this.props.addToQueue}\n                close={this.closeMenu}\n            />);\n            return(menu)\n        }\n    }\n\n    closeMenu = () => {\n        this.setState({\n            contextMenu: false,\n            x: null,\n            y: null\n        });\n    }\n\n}\n \nexport default Player;","import React, { Component } from 'react';\n\n\nclass UpNext extends Component {\n    state = {  }\n    render() {\n\n        \n        return (\n            <div className=\"upNext\">\n                <h1>Up Next:</h1>\n                <p className=\"copy\" onClick={this.props.copy}>Copy link to queue <span className=\"material-icons\">content_copy</span></p>\n                <ul>\n                    {this.props.mode === \"auto\" && this.makeUpNext(this.props.standardQueue)}\n                    {this.props.mode === \"manual\" && this.makeUpNext(this.props.manualQueue)}\n                </ul>\n            </div>\n        );\n    }\n\n    makeUpNext = (queue) => {\n        let arr = [];\n        for(let i = 0; i < queue.length; i++) {\n            let elem = (\n                <li key={i} onClick={(e) => {\n                    if(e.ctrlKey || e.metaKey) { // if ctrl/cmd, add to queue\n                        this.props.removeFromQueue(i)\n                    } else {\n                        e.preventDefault();\n                        this.props.handleClick(null,queue[i]);\n                        this.props.removeFromQueue(i)\n                    }\n                }}>\n                    {queue[i].title}\n                </li>\n            );\n\n            arr.push(elem);\n        }\n\n        return(arr);\n    }\n}\n \nexport default UpNext;","import React, { Component } from 'react';\n\nclass Controls extends Component {\n    state = {  }\n    render() { \n        return (\n\n            <div className=\"controls\">\n                <button className=\"playPause\" onClick={this.props.playPause}><p className=\"material-icons\">{this.props.isPaused ? \"play_arrow\" : \"pause\"}</p></button>\n                <button className=\"button\" onClick={this.props.skip}><p className=\"material-icons\">skip_next</p></button>\n            </div>\n        );\n    }\n}\n \nexport default Controls;","class AudioWrapper {\n    constructor(song) {\n        this.audio = new Audio();\n        if(song){\n            this.song = song;\n            this.audio.src = song.url;\n        }\n    }\n\n    getSrc = () => {\n        return(this.audio.src);\n    }\n\n    setSong = (song) => {\n        this.song = song;\n        if(song.url) {\n            this.audio.src = song.url;\n        } else {\n            this.audio.src = \"\";\n        }\n        return(this.song);\n    }\n\n    getSong = () => {\n        return(this.song);\n    }\n\n    play = () => {\n        this.audio.play();\n    }\n\n    pause = () => {\n        this.audio.pause();\n    }\n}\n\nexport default AudioWrapper;","import React, { Component } from 'react';\nimport Player from './components/player';\nimport UpNext from './components/upnext';\nimport Controls from './components/controls';\nimport './App.css';\nimport data from './data.json';\nimport AudioWrapper from './resources/audiowrapper';\nimport MediaSession from '@mebtte/react-media-session';\n\nclass App extends Component {\n  state = {\n    isPaused: true,\n    mode: \"auto\",\n    manualQueue: [],\n    standardQueue: []\n   }\n  render() {\n    return (\n      <div className=\"wrap\">\n        <div>\n          <Player\n            mode={this.state.mode}\n            modeSelect={this.modeSelect}\n            playing={this.state.playing}\n            songs={this.state.songlist}\n            makeSongs={this.makeSongs}\n            handleClick={this.handleClick}\n            addToQueue={this.addToQueue}\n          />\n          <Controls\n            isPaused={this.state.isPaused}\n            playPause={this.playPause}\n            skip={this.skip}\n          />\n          <UpNext\n            mode={this.state.mode}\n            standardQueue={this.state.standardQueue}\n            manualQueue={this.state.manualQueue}\n            removeFromQueue={this.removeFromQueue}\n            handleClick={this.handleClick}\n            copy={this.copyToClipboard}\n          />\n        </div>\n\n        <p className=\"instructions\">Press ctrl+click to add a song to the queue!</p>\n        <p className=\"instructions\">Click a song in the queue to remove it!</p>\n        <MediaSession\n          title={this.state.song && this.state.song.title}\n          artist=\"RuneScape Original Soundtrack\"\n          artwork={[\n            {\n              src: './album_cover.jpg',\n              sizes: '640x640',\n              type: 'image/jpg'\n            }\n          ]}\n          onPlay={this.audio.play}\n          onPause={this.audio.pause}\n          onNextTrack={this.skip}\n        >\n        </MediaSession>;\n      </div>\n    );\n  }\n\n  // init logic\n  audio = new AudioWrapper();\n\n  getActiveQueue = (mode) => {\n    let map = {\n      manual: 'manualQueue',\n      auto: 'standardQueue'\n    }\n\n    return(map[mode]);\n  }\n\n  componentDidMount = () => {\n\n    this.audio = new AudioWrapper();\n    this.audio.audio.onended = this.ended;\n\n    this.setState({\n      songlist: data.songs,\n      standardQueue: data.queue\n    });\n\n    this.props.history.listen((route) => {\n      console.log(this.props.history);\n      let path = route.pathname.split('/')[1];\n      let decoded = path.replaceAll(\"_\",\" \");\n      let song = data.songs.find(i => i.title.toLowerCase() === decoded.toLowerCase());\n      if(song) {\n        if(this.state.song) {\n          if(song.title !== this.state.song.title) {\n            this.loadedFromUrlChange = true;\n            this.handleClick(null,song);\n          }\n        }\n      }\n    });\n\n    document.addEventListener('keydown', e => {\n      if(e.code === \"Space\") {\n        e.preventDefault();\n        document.querySelector(\".playPause\").focus();\n        this.playPause();\n        document.querySelector(\".playPause\").focus();\n      }\n    });\n\n    this.audio.audio.addEventListener('play', () => {\n      this.setState({\n        isPaused: false\n      }, () => {\n        console.log(\"Playing!\");\n      });\n    });\n\n    this.audio.audio.addEventListener('pause', () => {\n      this.setState({\n        isPaused: true\n      }, () => {\n        console.log(\"Paused!\");\n      });\n    });\n\n    this.audio.audio.addEventListener('loadeddata', () => {\n      this.setState({song: this.audio.song}, () => {\n        document.title = \"RuneScape Music Player - \" + this.state.song.title;\n        if(!this.loadedFromUrlChange) {\n          this.props.history.push('/' + this.state.song.title.replaceAll(\" \",\"_\"));\n        } else {\n          this.loadedFromUrlChange = null;\n        }\n\n      });\n    });\n\n    if(this.props.match) {\n      let match = this.props.match.params.song.replaceAll(\"_\",\" \");\n      let song = data.songs.find(i => i.title.toLowerCase() === match.toLowerCase());\n      if(song) {\n        this.handleClick(null,song);\n      }\n    }\n\n    let queryString = new URLSearchParams(this.props.location.search);\n    if(queryString.get('queue')) {\n      let version = queryString.get(\"v\");\n      let queue = queryString.get(\"queue\").split(\",\");\n      queue = queue.map(song => song.replaceAll(\"_\",\" \"));\n      let inserts = [];\n\n      queue.forEach(song => {\n        let insert = data.songs.find(i => i.title.toLowerCase() === song.toLowerCase());\n        if(insert) inserts.push(insert);\n      })\n\n      console.log(inserts);\n  \n      this.setState({mode: \"manual\"}, () => {\n        this.addToQueue.apply(null,inserts);\n      })\n    }\n\n    if('mediasession' in navigator) {\n      navigator.mediaSession.setActionHandler('play', this.playPause);\n      navigator.mediaSession.setActionHandler('pause', this.playPause);\n      navigator.mediaSession.setActionHandler('nexttrack', this.skip);\n    }\n  }\n\n  // file fetching logic\n\n  addToQueue = (...songs) => {\n\n    let activeQueue = this.getActiveQueue(this.state.mode);\n    let queue = Array.prototype.concat(this.state[activeQueue], songs);\n  \n    this.setState({\n      [activeQueue]: queue\n    });\n  }\n\n  handleClick = (event, song) => {\n    if(event) { // if handleClick occurred from click event, check if should add to queue\n      if(this.state.mode !== \"loop\" && (event.ctrlKey || event.metaKey)) { // if ctrl/cmd, add to queue\n        event.preventDefault();\n        this.addToQueue(song);\n  \n        return;\n      }\n    }\n\n    if(this.state.playing) {\n      this.audio.pause();\n    }\n\n    const url = song.url;\n    console.log(url);\n\n    this.audio.setSong(song);\n    \n    this.setState({\n      playing: song,\n    }, () => {\n      this.audio.play();\n    });\n\n  }\n\n  skip = () => {\n    let activeQueue = this.getActiveQueue(this.state.mode);\n\n    let queue = this.state[activeQueue].slice();\n\n    if(queue.length === 0) {\n      this.audio.song = null;\n      this.audio.pause();\n      this.setState({\n        isPaused: true\n      });\n\n      return;\n    }\n\n    let play = queue.splice(0,1)[0];\n    this.setState({\n      [activeQueue]: queue\n    }, () => {\n      this.handleClick(null, play);\n    });\n  }\n\n  playPause = () => {\n\n    if(this.state.isPaused) {\n      if(this.audio.getSrc() === \"\" && this.state.mode !== \"loop\") { // advance to next song if there's a queue and no current track\n\n        let activeQueue = this.getActiveQueue(this.state.mode);\n\n        let queue = this.state[activeQueue].slice();\n\n        if(queue.length === 0) { // if queue is empty, break\n          return;\n        }\n\n        let play = queue.splice(0,1)[0];\n        this.setState({\n          [activeQueue]: queue\n        }, () => {\n          this.handleClick(null, play);\n        });\n      }\n      \n      this.audio.play();\n\n    } else {\n      this.audio.pause();\n    }\n  }\n\n  // mode logic\n  /* For the purposes of making a more functional audio player,\n  the modes have been adjusted from what they would be in the in-game player:\n\n  Auto: after selected song ends, begins autoplay of pre-selected queue of songs\n  Manual: Allows for manual queues of songs\n  Loop: loops current song as normal*/\n\n  modeSelect = (mode, clicked=true) => {\n\n    if(mode === \"loop\") { \n      this.audio.audio.loop = true;\n    } else { // make sure loop is false if previously declared\n      this.audio.audio.loop = false;\n    }\n\n    this.setState({\n      mode: mode\n    }, () => {console.log(\"The mode is currently set to: \" + mode)});\n  }\n\n  ended = () => {\n    if(this.state.mode === \"loop\") {\n      return;\n    }\n\n    let activeQueue = this.getActiveQueue(this.state.mode);\n\n    if(this.state[activeQueue].length === 0) {\n      this.audio.pause();\n      return;   \n    }\n\n    let queue = this.state[activeQueue].slice();\n    let play = queue.splice(0,1)[0];\n    this.setState({\n      [activeQueue]: queue,\n    }, () => {\n      this.handleClick(null, play);\n      this.mediaSessionUpdate(play);\n    });\n  }\n\n  removeFromQueue = (i) => {\n    let activeQueue = this.getActiveQueue(this.state.mode);\n\n    let queue = this.state[activeQueue].slice();\n    queue.splice(i,1);\n\n    this.setState({\n     [activeQueue]: queue \n    });\n  }\n\n  mediaSessionUpdate = (song) => {\n    if('mediaSession' in navigator) {\n      navigator.mediaSession.metadata = new window.MediaMetadata({\n        title: song.title,\n        album: 'RuneScape Original Soundtrack'\n      });\n    }\n  }\n\n  copyToClipboard = () => {\n    let baseurl = \"https://runetunes.com/\";\n    let path;\n    if(this.state.playing) {\n      path = this.state.playing.title.replace(' ', '_');\n    }\n    let queue = this.state[this.getActiveQueue(this.state.mode)].slice();\n    let resQueue = queue.map(song => song.title.replaceAll(' ','_'));\n    let url = baseurl+ (path ? path : \"\") + (resQueue.length > 0 ? (\"?queue=\"+resQueue.join(\",\")) : \"\");\n\n    navigator.clipboard.writeText(url).then(() => {\n      console.log(\"wrote to clipboard: \" + url);\n    });\n\n  }\n}\n\n \nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from \"react-router-dom\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route path=\"/:song\" children={(match) => {\n        return(<App {...match} />)\n      }}/>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}