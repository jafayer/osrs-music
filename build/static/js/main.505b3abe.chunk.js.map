{"version":3,"sources":["components/contextmenu.jsx","components/song.jsx","components/player.jsx","components/upnext.jsx","components/controls.jsx","resources/audiowrapper.js","App.js","index.js"],"names":["ContextMenu","state","componentDidMount","document","addEventListener","props","close","play","e","song","preventDefault","handleClick","addToQueue","componentWillUnmount","removeEventListener","console","log","this","className","style","y","x","onClick","onContextMenu","Component","Song","to","title","replaceAll","contextMenu","id","Player","makeSongs","closeMenu","setState","contextMenuSong","pageX","pageY","addPopup","click","modeSelect","mode","playing","songs","map","i","UpNext","makeUpNext","queue","arr","elem","removeFromQueue","push","length","standardQueue","manualQueue","Controls","playPause","isPaused","skip","AudioWrapper","getSrc","audio","src","setSong","url","getSong","pause","Audio","App","getActiveQueue","manual","auto","onended","ended","songlist","data","songslist","code","querySelector","focus","match","params","find","toLowerCase","queryString","URLSearchParams","location","search","get","split","inserts","forEach","insert","apply","navigator","mediaSession","setActionHandler","activeQueue","Array","prototype","concat","event","ctrlKey","metaKey","slice","splice","loop","mediaSessionUpdate","metadata","window","MediaMetadata","album","artist","artwork","sizes","type","onPlay","onPause","onNextTrack","ReactDOM","render","StrictMode","path","children","getElementById"],"mappings":"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","file":"static/js/main.505b3abe.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass ContextMenu extends Component {\r\n    state = { }\r\n    render() {\r\n        console.log(this.props);\r\n        return ( \r\n            <div className=\"contextMenu\" style={{\"top\": this.props.y, \"left\": this.props.x}}>\r\n                <div className=\"header\">\r\n                    <p>Choose Option</p>\r\n                </div>\r\n                <ul>\r\n                    <li onClick={(e) => {this.play(e,this.props.song)}}\r\n                        onContextMenu={(e) => {e.preventDefault()}}\r\n                    >Play <span>Song</span></li>\r\n                    <li onClick={(e) => {this.addToQueue(e,this.props.song)}}\r\n                        onContextMenu={(e) => {e.preventDefault()}}\r\n                    >Add to queue <span>Song</span></li>\r\n                </ul>\r\n            </div>\r\n         );\r\n    }\r\n    \r\n\r\n    componentDidMount = () => {\r\n        document.addEventListener('click', this.props.close);\r\n    }\r\n\r\n    play = (e,song) => {\r\n        e.preventDefault();\r\n        this.props.handleClick(null,song);\r\n    }\r\n\r\n    addToQueue = (e, song) => {\r\n        e.preventDefault();\r\n        this.props.addToQueue(song);\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        document.removeEventListener('click',this.props.close);\r\n    }\r\n}\r\n \r\nexport default ContextMenu;","import React, { Component } from 'react';\r\nimport ContextMenu from './contextmenu';\r\n\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\n\r\nclass Song extends Component {\r\n    state = { }\r\n\r\n    render() {\r\n        return (\r\n            <Link to={this.props.song.title.replaceAll(\" \",\"_\")} onContextMenu={(e) => {this.props.contextMenu(e, this.props.song)}}>\r\n                <li key={this.props.song.id} onClick={(e) => {this.props.handleClick(e, this.props.song)}}>\r\n                <p>{this.props.song.title}</p>\r\n                </li>\r\n            </Link>\r\n        );\r\n    }\r\n    \r\n}\r\n \r\nexport default Song;","import React, { Component } from 'react';\r\nimport Song from './song';\r\nimport ContextMenu from './contextmenu';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\nclass Player extends Component {\r\n    state = { \r\n        contextMenu: false\r\n    }\r\n\r\n    render() {\r\n        return ( \r\n\r\n            <>\r\n                {this.addPopup()}\r\n\r\n                <div className=\"player\">\r\n                    <div className=\"modeSelect\">\r\n                        <button \r\n                            onClick={() => {this.props.modeSelect(\"auto\")}}\r\n                            className={this.props.mode === \"auto\" ? \"active\" : \"\"}><p>Auto</p></button>\r\n                        <button \r\n                            onClick={() => {this.props.modeSelect(\"manual\")}}\r\n                            className={this.props.mode === \"manual\" ? \"active\": \"\"}><p>Man</p></button>\r\n                        <button \r\n                            onClick={() => {this.props.modeSelect(\"loop\")}}\r\n                            className={this.props.mode === \"loop\" ? \"active\" : \"\"}><p>Loop</p></button>\r\n                    </div>\r\n                    <div className=\"playing\">Playing:<br /><span>\r\n                        {!this.props.playing && \"Choose a song!\"}\r\n                        {this.props.playing && this.props.playing.title}\r\n                    </span></div>\r\n                    <div className=\"songs\">\r\n                        <ul>\r\n                            {this.props.songs && this.props.songs.map(i => this.makeSongs(i))}\r\n                            {!this.props.songs && \"Please wait, loading!\"}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </>\r\n         );\r\n    }\r\n\r\n    makeSongs = (song) => {\r\n        let elem = (\r\n          <Song \r\n            song={song}\r\n            handleClick={this.props.handleClick}\r\n            addToQueue={this.props.addToQueue}\r\n            contextMenu={this.contextMenu}\r\n          />\r\n        );\r\n    \r\n        return(elem);\r\n      }\r\n\r\n\r\n      // contextMenu setup\r\n      contextMenu = (e,song) => {\r\n        e.preventDefault();\r\n        this.closeMenu();\r\n        this.setState({\r\n            contextMenu: true,\r\n            contextMenuSong: song,\r\n            x: e.pageX,\r\n            y: e.pageY\r\n        }, () => {\r\n            this.addPopup();\r\n        });  \r\n    }\r\n\r\n    addPopup = () => {\r\n        if(this.state.contextMenu) {\r\n            let menu = (<ContextMenu\r\n                x={this.state.x}\r\n                y={this.state.y}\r\n                click={this.closeMenu}\r\n                song={this.state.contextMenuSong}\r\n                handleClick={this.props.handleClick}\r\n                addToQueue={this.props.addToQueue}\r\n                close={this.closeMenu}\r\n            />);\r\n            return(menu)\r\n        }\r\n    }\r\n\r\n    closeMenu = () => {\r\n        this.setState({\r\n            contextMenu: false,\r\n            x: null,\r\n            y: null\r\n        });\r\n    }\r\n\r\n}\r\n \r\nexport default Player;","import React, { Component } from 'react';\r\n\r\n\r\nclass UpNext extends Component {\r\n    state = {  }\r\n    render() {\r\n\r\n        \r\n        return (\r\n            <div className=\"upNext\">\r\n                <h1>Up Next:</h1>\r\n                <ul>\r\n                    {this.props.mode === \"auto\" && this.makeUpNext(this.props.standardQueue)}\r\n                    {this.props.mode === \"manual\" && this.makeUpNext(this.props.manualQueue)}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    makeUpNext = (queue) => {\r\n        let arr = [];\r\n        for(let i = 0; i < queue.length; i++) {\r\n            let elem = (\r\n                <li key={i} onClick={() => {this.props.removeFromQueue(i)}}>\r\n                    {queue[i].title}\r\n                </li>\r\n            );\r\n\r\n            arr.push(elem);\r\n        }\r\n\r\n        return(arr);\r\n    }\r\n}\r\n \r\nexport default UpNext;","import React, { Component } from 'react';\r\n\r\nclass Controls extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n\r\n            <div className=\"controls\">\r\n                <button className=\"playPause\" onClick={this.props.playPause}><p className=\"material-icons\">{this.props.isPaused ? \"play_arrow\" : \"pause\"}</p></button>\r\n                <button className=\"playPause\" onClick={this.props.skip}><p className=\"material-icons\">skip_next</p></button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Controls;","class AudioWrapper {\r\n    constructor(song) {\r\n        this.audio = new Audio();\r\n        if(song){\r\n            this.song = song;\r\n            this.audio.src = song.url;\r\n        }\r\n    }\r\n\r\n    getSrc = () => {\r\n        return(this.audio.src);\r\n    }\r\n\r\n    setSong = (song) => {\r\n        this.song = song;\r\n        if(song.url) {\r\n            this.audio.src = song.url;\r\n        } else {\r\n            this.audio.src = \"\";\r\n        }\r\n        return(this.song);\r\n    }\r\n\r\n    getSong = () => {\r\n        return(this.song);\r\n    }\r\n\r\n    play = () => {\r\n        this.audio.play();\r\n    }\r\n\r\n    pause = () => {\r\n        this.audio.pause();\r\n    }\r\n}\r\n\r\nexport default AudioWrapper;","import React, { Component } from 'react';\nimport Player from './components/player';\nimport UpNext from './components/upnext';\nimport Controls from './components/controls';\nimport Song from './components/song';\nimport './App.css';\nimport data from './data.json';\nimport AudioWrapper from './resources/audiowrapper';\nimport MediaSession from '@mebtte/react-media-session';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nclass App extends Component {\n  state = {\n    isPaused: true,\n    mode: \"auto\",\n    song: null,\n    manualQueue: [],\n    standardQueue: [\n      {\"filename\":\"Harmony.ogg\",\"url\":\"https://archive.org/download/OldRunescapeSoundtrack/Harmony.ogg\",\"id\":\"160\",\"title\":\"Harmony\"},\n      {\"filename\":\"Adventure.ogg\",\"url\":\"https://archive.org/download/OldRunescapeSoundtrack/Adventure.ogg\",\"id\":\"1\",\"title\":\"Adventure\"},\n      {\"filename\":\"Autumn Voyage.ogg\",\"url\":\"https://archive.org/download/OldRunescapeSoundtrack/Autumn%20Voyage.ogg\",\"id\":\"21\",\"title\":\"Autumn Voyage\"},\n      {\"filename\":\"Camelot.ogg\",\"url\":\"https://archive.org/download/OldRunescapeSoundtrack/Camelot.ogg\",\"id\":\"45\",\"title\":\"Camelot\"}]\n   }\n  render() {\n    return (\n      <div className=\"wrap\">\n        <div>\n          <Player\n            mode={this.state.mode}\n            modeSelect={this.modeSelect}\n            playing={this.state.playing}\n            songs={this.state.songlist}\n            makeSongs={this.makeSongs}\n            handleClick={this.handleClick}\n            addToQueue={this.addToQueue}\n          />\n          <Controls\n            isPaused={this.state.isPaused}\n            playPause={this.playPause}\n            skip={this.skip}\n          />\n          <UpNext\n            mode={this.state.mode}\n            standardQueue={this.state.standardQueue}\n            manualQueue={this.state.manualQueue}\n            removeFromQueue={this.removeFromQueue}\n          />\n        </div>\n\n        <p className=\"instructions\">Press ctrl+click to add a song to the queue!</p>\n        <p className=\"instructions\">Click a song in the queue to remove it!</p>\n        <MediaSession\n          title={this.state.song && this.state.song.title}\n          artist=\"RuneScape Original Soundtrack\"\n          artwork={[\n            {\n              src: './album_cover.jpg',\n              sizes: '640x640',\n              type: 'image/jpg'\n            }\n          ]}\n          onPlay={this.audio.play}\n          onPause={this.audio.pause}\n          onNextTrack={this.skip}\n        >\n          children or null\n        </MediaSession>;\n      </div>\n    );\n  }\n\n  // init logic\n  audio = new AudioWrapper();\n\n  getActiveQueue = (mode) => {\n    let map = {\n      manual: 'manualQueue',\n      auto: 'standardQueue'\n    }\n\n    return(map[mode]);\n  }\n\n  componentDidMount = () => {\n\n    this.audio = new AudioWrapper();\n    this.audio.audio.onended = this.ended;\n\n    this.setState({songlist: data.songs}, () => {\n      console.log(this.state.songslist)\n    });\n\n    document.addEventListener('keydown', e => {\n      if(e.code === \"Space\") {\n        e.preventDefault();\n        document.querySelector(\".playPause\").focus();\n        this.playPause();\n        document.querySelector(\".playPause\").focus();\n      }\n    });\n\n    this.audio.audio.addEventListener('play', () => {\n      this.setState({\n        isPaused: false\n      }, () => {\n        console.log(\"Playing!\");\n      });\n    });\n\n    this.audio.audio.addEventListener('pause', () => {\n      this.setState({\n        isPaused: true\n      }, () => {\n        console.log(\"Paused!\");\n      });\n    });\n\n    this.audio.audio.addEventListener('loadeddata', () => {\n      this.setState({song: this.audio.song}, () => {\n        document.title = \"RuneScape Music Player - \" + this.state.song.title;\n        console.log(this.state.song);\n      });\n    });\n\n    if(this.props.match) {\n      let match = this.props.match.params.song.replaceAll(\"_\",\" \");\n      console.log(match);\n      let song = data.songs.find(i => i.title.toLowerCase() === match.toLowerCase());\n      if(song) {\n        this.handleClick(null,song);\n      }\n    }\n\n    let queryString = new URLSearchParams(this.props.location.search);\n    if(queryString.get('queue')) {\n      let version = queryString.get(\"v\");\n      let queue = queryString.get(\"queue\").split(\",\");\n      queue = queue.map(song => song.replaceAll(\"_\",\" \"));\n      let inserts = [];\n\n      queue.forEach(song => {\n        let insert = data.songs.find(i => i.title.toLowerCase() === song.toLowerCase());\n        if(insert) inserts.push(insert);\n      })\n\n      console.log(inserts);\n  \n      this.setState({mode: \"manual\"}, () => {\n        this.addToQueue.apply(null,inserts);\n      })\n    }\n\n    if('mediasession' in navigator) {\n      navigator.mediaSession.setActionHandler('play', this.playPause);\n      navigator.mediaSession.setActionHandler('pause', this.playPause);\n      navigator.mediaSession.setActionHandler('nexttrack', this.skip);\n    }\n  }\n\n  // file fetching logic\n\n  addToQueue = (...songs) => {\n\n    let activeQueue = this.getActiveQueue(this.state.mode);\n    let queue = Array.prototype.concat(this.state[activeQueue], songs);\n  \n    this.setState({\n      [activeQueue]: queue\n    });\n  }\n\n  handleClick = (event, song) => {\n    if(event) { // if handleClick occurred from click event, check if should add to queue\n      if(this.state.mode !== \"loop\" && (event.ctrlKey || event.metaKey)) { // if ctrl/cmd, add to queue\n        event.preventDefault();\n        this.addToQueue(song);\n  \n        return;\n      }\n    }\n\n    if(this.state.playing) {\n      this.audio.pause();\n    }\n\n    const url = song.url;\n    console.log(url);\n\n    this.audio.setSong(song);\n    \n    this.setState({\n      playing: song,\n    }, () => {\n      this.audio.play();\n    });\n\n  }\n\n  skip = () => {\n    let activeQueue = this.getActiveQueue(this.state.mode);\n\n    let queue = this.state[activeQueue].slice();\n\n    if(queue.length === 0) {\n      this.audio.song = null;\n      this.audio.pause();\n      this.setState({\n        isPaused: true\n      });\n\n      return;\n    }\n\n    let play = queue.splice(0,1)[0];\n    this.setState({\n      [activeQueue]: queue\n    }, () => {\n      this.handleClick(null, play);\n    });\n  }\n\n  playPause = () => {\n\n    if(this.state.isPaused) {\n      if(this.audio.getSrc() === \"\" && this.state.mode !== \"loop\") { // advance to next song if there's a queue and no current track\n\n        let activeQueue = this.getActiveQueue(this.state.mode);\n\n        let queue = this.state[activeQueue].slice();\n\n        if(queue.length === 0) { // if queue is empty, break\n          return;\n        }\n\n        let play = queue.splice(0,1)[0];\n        this.setState({\n          [activeQueue]: queue\n        }, () => {\n          this.handleClick(null, play);\n        });\n      }\n      \n      this.audio.play();\n\n    } else {\n      this.audio.pause();\n    }\n  }\n\n  // mode logic\n  /* For the purposes of making a more functional audio player,\n  the modes have been adjusted from what they would be in the in-game player:\n\n  Auto: after selected song ends, begins autoplay of pre-selected queue of songs\n  Manual: Allows for manual queues of songs\n  Loop: loops current song as normal*/\n\n  modeSelect = (mode, clicked=true) => {\n\n    if(mode === \"loop\") { \n      this.audio.audio.loop = true;\n    } else { // make sure loop is false if previously declared\n      this.audio.audio.loop = false;\n    }\n\n    this.setState({\n      mode: mode\n    }, () => {console.log(\"The mode is currently set to: \" + mode)});\n  }\n\n  ended = () => {\n    if(this.state.mode === \"loop\") {\n      return;\n    }\n\n    let activeQueue = this.getActiveQueue(this.state.mode);\n\n    if(this.state[activeQueue].length === 0) {\n      this.audio.pause();\n      return;   \n    }\n\n    let queue = this.state[activeQueue].slice();\n    let play = queue.splice(0,1)[0];\n    this.setState({\n      [activeQueue]: queue,\n    }, () => {\n      this.handleClick(null, play);\n      this.mediaSessionUpdate(play);\n    });\n  }\n\n  removeFromQueue = (i) => {\n    let activeQueue = this.getActiveQueue(this.state.mode);\n\n    let queue = this.state[activeQueue].slice();\n    queue.splice(i,1);\n\n    this.setState({\n     [activeQueue]: queue \n    });\n  }\n\n  mediaSessionUpdate = (song) => {\n    if('mediaSession' in navigator) {\n      navigator.mediaSession.metadata = new window.MediaMetadata({\n        title: song.title,\n        album: 'RuneScape Original Soundtrack'\n      });\n    }\n  }\n}\n\n \nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Route path=\"/:song\" children={(match) => {\n        return(<App {...match} />)\n      }}/>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}