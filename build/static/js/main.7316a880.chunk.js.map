{"version":3,"sources":["components/player.jsx","components/upnext.jsx","components/controls.jsx","App.js","index.js"],"names":["Player","state","className","onClick","props","modeSelect","this","mode","playing","slice","length","songs","map","i","makeSongs","Component","UpNext","makeUpNext","queue","arr","elem","removeFromQueue","push","standardQueue","manualQueue","Controls","playPause","isPaused","skip","App","getFileList","fetch","then","res","json","setState","songlist","console","log","componentDidMount","audio","Audio","onended","ended","song","name","e","handleClick","event","ctrlKey","pause","url","encodeURI","src","play","selected","splice","paused","loop","select","getSong","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7316a880.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Player extends Component {\r\n    state = {  }\r\n    render() {\r\n        return ( \r\n\r\n            <div className=\"player\">\r\n                <div className=\"modeSelect\">\r\n                    <button \r\n                        onClick={() => {this.props.modeSelect(\"auto\")}}\r\n                        className={this.props.mode === \"auto\" ? \"active\" : \"\"}><p>Auto</p></button>\r\n                    <button \r\n                        onClick={() => {this.props.modeSelect(\"manual\")}}\r\n                        className={this.props.mode === \"manual\" ? \"active\": \"\"}><p>Man</p></button>\r\n                    <button \r\n                        onClick={() => {this.props.modeSelect(\"loop\")}}\r\n                        className={this.props.mode === \"loop\" ? \"active\" : \"\"}><p>Loop</p></button>\r\n                </div>\r\n                <div className=\"playing\">Playing:<br /><span>\r\n                    {!this.props.playing && \"Choose a song!\"}\r\n                    {this.props.playing && this.props.playing.slice(0,(this.props.playing.length-4))}\r\n                </span></div>\r\n                <div className=\"songs\">\r\n                    <ul>\r\n                        {this.props.songs && this.props.songs.map(i => this.props.makeSongs(i))}\r\n                        {!this.props.songs && \"Please wait, loading!\"}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Player;","import React, { Component } from 'react';\r\n\r\n\r\nclass UpNext extends Component {\r\n    state = {  }\r\n    render() {\r\n\r\n        \r\n        return (\r\n            <div className=\"upNext\">\r\n                <h1>Up Next:</h1>\r\n                <ul>\r\n                    {this.props.mode === \"auto\" && this.makeUpNext(this.props.standardQueue)}\r\n                    {this.props.mode === \"manual\" && this.makeUpNext(this.props.manualQueue)}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    makeUpNext = (queue) => {\r\n        let arr = [];\r\n        for(let i = 0; i < queue.length; i++) {\r\n            let elem = (\r\n                <li key={i} onClick={() => {this.props.removeFromQueue(i)}}>\r\n                    {queue[i].slice(0,(queue[i].length-4))}\r\n                </li>\r\n            );\r\n\r\n            arr.push(elem);\r\n        }\r\n\r\n        return(arr);\r\n    }\r\n}\r\n \r\nexport default UpNext;","import React, { Component } from 'react';\r\n\r\nclass Controls extends Component {\r\n    state = {  }\r\n    render() { \r\n        return (\r\n\r\n            <div className=\"controls\">\r\n                <button className=\"playPause\" onClick={this.props.playPause}><p className=\"material-icons\">{this.props.isPaused ? \"play_arrow\" : \"pause\"}</p></button>\r\n                <button className=\"playPause\" onClick={this.props.skip}><p className=\"material-icons\">skip_next</p></button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Controls;","import React, { Component } from 'react';\nimport Player from './components/player';\nimport UpNext from './components/upnext';\nimport Controls from './components/controls';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    isPaused: true,\n    mode: \"auto\",\n    manualQueue: [],\n    standardQueue: [\"Harmony.ogg\", \"Adventure.ogg\", \"Autumn Voyage.ogg\", \"Camelot.ogg\"]\n   }\n  render() {\n\n    return (\n      <div className=\"wrap\">\n        <div>\n          <Player\n            mode={this.state.mode}\n            modeSelect={this.modeSelect}\n            playing={this.state.playing}\n            songs={this.state.songlist}\n            makeSongs={this.makeSongs}\n            handleClick={this.handleClick}\n            getSong={this.getSong}\n          />\n          <Controls\n            isPaused={this.state.isPaused}\n            playPause={this.playPause}\n            skip={this.skip}\n          />\n          <UpNext\n            mode={this.state.mode}\n            standardQueue={this.state.standardQueue}\n            manualQueue={this.state.manualQueue}\n            removeFromQueue={this.removeFromQueue}\n          />\n        </div>\n\n        <p className=\"instructions\">Press ctrl+click to add a song to the queue!</p>\n        <p className=\"instructions\">Click a song in the queue to remove it!</p>\n      </div>\n    );\n  }\n\n  audio;\n\n  // init logic\n  getFileList = () => {\n    fetch('http://34.232.105.190/files')\n    .then(res => res.json())\n    .then(json => {\n      this.setState({songlist: json},\n        () => {console.log(this.state.songlist)});\n    })\n  }\n\n  componentDidMount = () => {\n    this.getFileList();\n\n    this.audio = new Audio();\n    this.audio.onended = this.ended;\n  }\n\n  makeSongs = (song) => {\n    let name = song.slice(0,(song.length-4));\n\n    let elem = (\n      <li key={name} onClick={(e) => {this.handleClick(e, song)}}>\n        <p>{name}</p>\n      </li>\n    );\n\n    return(elem);\n  }\n\n  // file fetching logic\n\n  handleClick = (event, song) => {\n    if(event) {\n      if(this.state.mode !== \"loop\" && event.ctrlKey) {\n\n        let queue;\n        if(this.state.mode === \"manual\") {\n          queue = \"manualQueue\";\n        } else {\n          queue = \"standardQueue\";\n        }\n  \n        this.setState({\n          [queue]: [...this.state[queue], song]\n        });\n  \n        return;\n      }\n    }\n\n    if(this.state.playing) {\n      this.setState({\n        isPaused: true \n      }, () => {\n        this.audio.pause();\n      });\n    }\n\n    const baseurl = 'https://archive.org/download/OldRunescapeSoundtrack/';\n    const path = encodeURI(song);\n    const url = baseurl+path;\n\n    this.audio.src = url;\n    \n    this.setState({\n      playing: song,\n      isPaused: false\n    }, () => {\n      this.audio.play();\n    });\n\n  }\n\n  skip = () => {\n    let selected;\n    if(this.state.mode === \"manual\") {\n      selected = \"manualQueue\";\n    } else {\n      selected = \"standardQueue\";\n    }\n\n    let queue = this.state[selected].slice();\n\n    if(queue.length === 0) {\n      this.audio.src = \"\";\n      this.setState({\n        isPaused: true\n      });\n\n      return;\n    }\n    let play = queue.splice(0,1)[0];\n    this.setState({\n      [selected]: queue,\n      isPaused: false\n    }, () => {\n      this.handleClick(null, play);\n    });\n  }\n\n  playPause = () => {\n\n    if(this.audio.paused) {\n      if(this.audio.src === \"\") {\n        if(this.state.mode === \"loop\") {\n          return;\n        } else {\n          let selected;\n          if(this.state.mode === \"manual\") {\n            selected = \"manualQueue\";\n          } else {\n            selected = \"standardQueue\";\n          }\n\n          let queue = this.state[selected].slice();\n\n          if(queue.length === 0) {\n            return;\n          }\n          let play = queue.splice(0,1)[0];\n          this.setState({\n            [selected]: queue,\n            isPaused: false\n          }, () => {\n            this.handleClick(null, play);\n          });\n        }\n      }\n      \n      this.setState({\n        isPaused: false\n      }, () => {\n        this.audio.play();\n      })\n    } else {\n      this.setState({\n        isPaused: true\n      }, () => {\n        this.audio.pause();\n      })\n    }\n  }\n\n  // mode logic\n  /* For the purposes of making a more functional audio player,\n  the modes have been adjusted from what they would be in the in-game player:\n\n  Auto: after selected song ends, begins autoplay of pre-selected queue of songs\n  Manual: Allows for manual queues of songs\n  Loop: loops current song as normal*/\n\n  modeSelect = (mode, clicked=true) => {\n\n    if(mode === \"loop\") {\n      this.audio.loop = true;\n    } else {\n      this.audio.loop = false;\n    }\n\n    this.setState({\n      mode: mode\n    }, () => {console.log(\"The mode is currently set to: \" + mode)});\n  }\n\n  ended = () => {\n    if(this.state.mode === \"loop\") {\n      return;\n    }\n\n    let select;\n    let mode = this.state.mode;\n\n    if(mode === \"manual\") {\n      select = \"manualQueue\";\n    } else if(mode === \"auto\") {\n      select = \"standardQueue\"\n    }\n\n    let queue = this.state[select].slice();\n    let play = queue.splice(0,1)[0];\n    this.setState({\n      [select]: queue,\n      isPaused: false\n    }, () => {\n      this.handleClick(null, play);\n    });\n  }\n\n  removeFromQueue = (i) => {\n    let mode = this.state.mode;\n    let select;\n\n    if(mode === \"manual\") {\n      select = \"manualQueue\";\n    } else if(mode === \"auto\") {\n      select = \"standardQueue\";\n    }\n\n    let queue = this.state[select].slice();\n    queue.splice(i,1);\n\n    this.setState({\n     [select]: queue \n    });\n  }\n}\n\n \nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}